<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Star</title><meta name="author" content="Star"><meta name="copyright" content="Star"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="摸鱼ing">
<meta property="og:type" content="website">
<meta property="og:title" content="Star">
<meta property="og:url" content="http://wzx046.github.io/page/5/index.html">
<meta property="og:site_name" content="Star">
<meta property="og:description" content="摸鱼ing">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://wzx046.github.io/img/head.jpg">
<meta property="article:author" content="Star">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://wzx046.github.io/img/head.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://wzx046.github.io/page/5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Star',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-01-09 17:47:12'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mycss.css"><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/alltop.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Star</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">Star</h1><div id="site-subtitle"><span id="subtitle"></span></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/post/25/" title="ESP32中断Bug"><img class="post_bg" src="/img/num/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESP32中断Bug"></a></div><div class="recent-post-info"><a class="article-title" href="/post/25/" title="ESP32中断Bug">ESP32中断Bug</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-19T08:52:24.000Z" title="发表于 2022-11-19 16:52:24">2022-11-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/BUG/">BUG</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/BUGS/">BUGS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E4%B8%B2%E5%8F%A3/">串口</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E7%9C%8B%E9%97%A8%E7%8B%97/">看门狗</a></span></div><div class="content">ESP32中断Bug特性浮点运算在中断内进行浮点运算会自动复位。在官方文档可以查到。官方文档描述如下：ESP-IDF FreeRTOS implements Lazy Context Switching for FPUs. In other words, the state of a core’s FPU registers are not immediately saved when a context switch occurs. Therefore, tasks that utilize float must be pinned to a particular core upon creation. If not, ESP-IDF FreeRTOS will automatically pin the task in question to whichever core the task was running on upon the task’s first use of float. Likewise due to Lazy Context Switching, only i ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/post/24/" title="ESPIDF-UART"><img class="post_bg" src="/img/num/5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESPIDF-UART"></a></div><div class="recent-post-info"><a class="article-title" href="/post/24/" title="ESPIDF-UART">ESPIDF-UART</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-18T07:43:37.000Z" title="发表于 2022-11-18 15:43:37">2022-11-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ESPIDF/">ESPIDF</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/">通信协议</a></span></div><div class="content">ESPIDF-UART概述嵌入式应用通常要求一个简单的并且占用系统资源少的方法来传输数据。通用异步收发传输器 (UART) 即可以满足这些要求，它能够灵活地与外部设备进行全双工数据交换。ESP32 芯片中有 3 个 UART 控制器可供使用，并且兼容不同的 UART 设备。另外，UART 还可以用作红外数据交换 (IrDA) 或 RS-485 调制解调器。UART 是一种以字符为导向的通用数据链，可以实现设备间的通信。异步传输的意思是不需要在发送数据上添加时钟信息。这也要求发送端和接收端的速率、停止位、奇偶校验位等都要相同，通信才能成功。一个典型的 UART 帧开始于一个起始位，紧接着是有效数据，然后是奇偶校验位（可有可无），最后是停止位。ESP32 上的 UART 控制器支持多种字符长度和停止位。另外，控制器还支持软硬件流控和 DMA，可以实现无缝高速的数据传输。开发者可以使用多个 UART 端口，同时又能保证很少的软件开销。  
流控机制概念在两个设备正常通信时，由于处理速度不同，就存在这样一个问题，有的快，有的慢，在某些情况下，就可能导致丢失数据的情况。如台式机与单片机之间的通讯 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/23/" title="ESPIDF-PWM"><img class="post_bg" src="/img/num/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESPIDF-PWM"></a></div><div class="recent-post-info"><a class="article-title" href="/post/23/" title="ESPIDF-PWM">ESPIDF-PWM</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-17T11:50:17.000Z" title="发表于 2022-11-17 19:50:17">2022-11-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ESPIDF/">ESPIDF</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a></span></div><div class="content">ESPIDF-PWM概述ESP32 有两个模块可以产生PWM。一个是 MCPWM ，另一个是 LED_PWM。  
MCPWM电机控制脉宽调制器（MCPWM）外设用于电机和电源控制。它提供了六个 PWM 输出，可在几种拓扑结构中运行。常见的拓扑结构之一是用一对 PWM 输出来驱动 H 桥以控制电机旋转速度和旋转方向。MCPWM 的时序和控制资源分为两种主要类型的模块：PWM 定时器和 PWM 操作器。每个 PWM 定时器提供定时参考，可以自由运行，或同步到其他定时器或外部源。每个 PWM 操作器具有用于为一个 PWM 通道生成波形对的所有控制资源。MCPWM 外设还包含专用捕获模块，用于需要精确定时外部事件的系统。ESP32 有两个 MCPWM 外设，分别是 MCPWM0 和 MCPWM1。它们的控制寄存器分别位于从地址 0x3FF5E000 和 0x3FF6C000 开始的 4 KB 内存中。  
LED_PWMLED_PWM 主要用于控制 LED 的亮度和颜色，也可以产生 PWM 信号用于其他用途。LED_PWM 有 16 路通道，即 8 路高速通道和 8 路低速通道。这 16 路 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/post/22/" title="ESPIDF-定时器"><img class="post_bg" src="/img/num/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESPIDF-定时器"></a></div><div class="recent-post-info"><a class="article-title" href="/post/22/" title="ESPIDF-定时器">ESPIDF-定时器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-16T11:24:54.000Z" title="发表于 2022-11-16 19:24:54">2022-11-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ESPIDF/">ESPIDF</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a></span></div><div class="content">ESPIDF-定时器概述ESP32 内置 4 个 64-bit 通用定时器。每个定时器包含一个 16-bit 预分频器和一个 64-bit 可自动重新加载向上／向下计数器。ESP32 的定时器分为 2 组，每组 2 个。TIMGn_Tx 的 n 代表组别，x 代表定时器编号。  
功能描述16-bit 预分频器每个定时器都以 APB 时钟（缩写 APB_CLK，频率通常为 80 MHz）作为基础时钟。16-bit 预分频器对 APB 时钟进行分频，产生时基计数器时钟（TB_clk）。TB_clk 每过一个周期，时基计数器会向上数一或者向下数一。在使用寄存器 TIMGn_Tx_DIVIDER 配置分频器除数前，必须关闭定时器（清零 TIMGn_Tx_DIVIDER）。定时器使能时配置预分频器会导致不可预知的结果。预分频器可以对 APB 时钟进行 2 到 65536 的分频。具体来说，TIMGn_Tx_DIVIDER为 1 或 2 时，时钟分频器是 2；TIMGn_Tx_DIVIDER 为 0 时，时钟分频器是 65536。如 TIMGn_Tx_DIVIDER 为其他任意值，时钟会被相同数 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/21/" title="ESPIDF-GPIO"><img class="post_bg" src="/img/num/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESPIDF-GPIO"></a></div><div class="recent-post-info"><a class="article-title" href="/post/21/" title="ESPIDF-GPIO">ESPIDF-GPIO</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-11-15T07:28:39.000Z" title="发表于 2022-11-15 15:28:39">2022-11-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ESPIDF/">ESPIDF</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a></span></div><div class="content">ESPIDF-GPIO管脚配置1esp_err_t gpio_config(const gpio_config_t *pGPIOConfig)
Configure GPIO’s Mode, pull-up, PullDown, IntrTypepGPIOConfig 为配置管脚的结构体指针  
找到 gpio_config_t 如下所示：
1234567typedef struct &#123;    uint64_t pin_bit_mask;          /*!&lt; GPIO pin: set with bit mask, each bit maps to a GPIO */    gpio_mode_t mode;               /*!&lt; GPIO mode: set input/output mode                     */    gpio_pullup_t pull_up_en;       /*!&lt; GPIO pull-up                                         */     ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/post/20/" title="FPGA-verilog"><img class="post_bg" src="/img/num/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="FPGA-verilog"></a></div><div class="recent-post-info"><a class="article-title" href="/post/20/" title="FPGA-verilog">FPGA-verilog</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-31T12:24:08.000Z" title="发表于 2022-10-31 20:24:08">2022-10-31</time></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/FPGA/">FPGA</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/verilog/">verilog</a></span></div><div class="content">FPGA-verilog数据类型常量
整数：整数可以用二进制 b 或 B，八进制 o 或 O，十进制 d 或 D，十六进制 h 或 H 表示。例如：8’b00001111 表示 8 位位宽的二进制整数，4’ha 表示 4 位位宽的十六进制整数。  
x 和 z：x 代表不定值，z 代表高阻值。例如：5’b00x11，第三位不定值，3’b00z 表示最低位为高阻值。  
下划线：在位数过长时可以用来分割位数，提高程序可读性，如 8’b0000_1111  
参数 parameter：parameter 可以用标识符定义常量，运用时只使用标识符即可，提高可读性及维护性，如定义 parameter width &#x3D; 8 ; 定义寄存器 reg [width-1:0] a; 即定义了 8 位宽度的寄存器。Parameter 可以用于模块间的参数传递，而 localparam 仅用于本模块内使用，不能用于参数传递。localparam 多用于状态机状态的定义。

变量
wire型wire 类型变量，也叫网络类型变量，用于结构实体之间的物理连接，如门与门之间，不能储存值，用连续赋值语句 a ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/18/" title="ESP32上的FreeRTOS学习(3)"><img class="post_bg" src="/img/num/6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESP32上的FreeRTOS学习(3)"></a></div><div class="recent-post-info"><a class="article-title" href="/post/18/" title="ESP32上的FreeRTOS学习(3)">ESP32上的FreeRTOS学习(3)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-27T07:45:39.000Z" title="发表于 2022-10-27 15:45:39">2022-10-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/FreeRTOS%E5%AD%A6%E4%B9%A0/">FreeRTOS学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/freeRTOS/">freeRTOS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a></span></div><div class="content">ESP32上的FreeRTOS学习(3)看门狗简介看门狗其实就是一个定时器，从功能上说它可以让微控制器在程序发生意外（程序进入死循环或跑飞）的时候，能重新回复到系统刚上电状态，以保障系统出问题的时候可以重启一次。说的简单一点，看门狗就是能让程序出问题时能重新启动系统。  
ESP32看门狗ESP32有两个核心，每个核心都有对应的看门狗。当RTOS调度器开始工作后，为了保证至少有一个任务在运行，空闲任务被自动创建，占用最低优先级（0优先级），这就是IDLE任务。而核心1上还运行着 loopback 任务，包括了 setup() 和 loop()。  

core0：IDLE （优先级0）
core1：IDLE （优先级0）、loopback（优先级1）。

默认情况下只有 core0 的 IDLE任务开启了看门狗。
关闭看门狗12disableCore0WDT();disableCore1WDT();
添加看门狗12esp_err_t esp_task_wdt_add(TaskHandle_t handle);esp_task_wdt_add(NULL); // NULL代表本任务
喂狗 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/post/17/" title="ESP32上的FreeRTOS学习(2)"><img class="post_bg" src="/img/num/5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ESP32上的FreeRTOS学习(2)"></a></div><div class="recent-post-info"><a class="article-title" href="/post/17/" title="ESP32上的FreeRTOS学习(2)">ESP32上的FreeRTOS学习(2)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-25T11:48:27.000Z" title="发表于 2022-10-25 19:48:27">2022-10-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/FreeRTOS%E5%AD%A6%E4%B9%A0/">FreeRTOS学习</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/freeRTOS/">freeRTOS</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/ESP32/">ESP32</a></span></div><div class="content">ESP32上的FreeRTOS学习(2)绝对延时相对延时：每次延时都是从执行函数vTaskDelay()开始，直到延时指定的时间结束。绝对延时：每隔指定的时间，执行一次调用vTaskDelayUntil()函数的任务。区别：个人理解，假如一个任务执行完成需要1ms，每10ms要执行一次。使用相对延时的话，就是延时10ms再加上执行任务的1ms，整个过程需要11ms，如果有其他更高优先级的任务，时间还需要更多；而对于绝对延时，这个1ms的任务是在10ms内完成的。  
12345678910void TimingTask(void* param)&#123;    const TickType_t task_frequency = 2000;    TickType_t last_wake_time = xTaskGetTickCount();  // 自动更新    while(1)    &#123;        Serial.println(last_wake_time);        vTaskDelayUntil(&amp;last_wake_time,task_frequ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/post/16/" title="结构体--字节对齐/位域"><img class="post_bg" src="/img/num/4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="结构体--字节对齐/位域"></a></div><div class="recent-post-info"><a class="article-title" href="/post/16/" title="结构体--字节对齐/位域">结构体--字节对齐/位域</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-22T09:42:56.000Z" title="发表于 2022-10-22 17:42:56">2022-10-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%9D%A2%E8%AF%95/">面试</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/C/">C</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/">内存管理</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%AD%97%E8%8A%82%E5%AF%B9%E9%BD%90/">字节对齐</a></span></div><div class="content">结构体–字节对齐&#x2F;位域字节对齐字节对齐规则结构体如下所示：
12345typedef struct A &#123;	char a;    int b;	short c;&#125;;
按理来说，char占用1个字节，int占用4个字节，short占用2个字节，因此总共占用7个字节。但实际上，运行下列代码：
123456789int main()&#123;	A x;	printf(&quot;%d \n&quot;,sizeof(x.a));	printf(&quot;%d \n&quot;, sizeof(x.b));	printf(&quot;%d \n&quot;, sizeof(x.c));	printf(&quot;%d \n&quot;, sizeof(x));	return 0;&#125;
得到：字节对齐需满足以下规则：  

结构体变量的首地址能够被其最宽基本类型成员的大小所整除。
结构体每个成员相对结构体首地址的偏移量(offset)都是自身有效对齐字节数的整数倍。
结构体内变量的自身有效对齐字节数为自身对齐字节数与系统对齐字节数的较小者；结构体的大小为 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/post/15/" title="图像处理-阈值分割"><img class="post_bg" src="/img/num/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="图像处理-阈值分割"></a></div><div class="recent-post-info"><a class="article-title" href="/post/15/" title="图像处理-阈值分割">图像处理-阈值分割</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-21T09:04:39.000Z" title="发表于 2022-10-21 17:04:39">2022-10-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">图像处理</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E7%AE%97%E6%B3%95/">算法</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/">图像处理</a></span></div><div class="content">图像处理-阈值分割</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><a class="page-number" href="/page/7/#content-inner">7</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Star</div><div class="author-info__description">摸鱼ing</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">66</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">38</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">18</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://gitee.com/wzx046"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欸嘿~</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/post/64/" title="本地部署大模型知识库"><img src="/img/num/3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="本地部署大模型知识库"/></a><div class="content"><a class="title" href="/post/64/" title="本地部署大模型知识库">本地部署大模型知识库</a><time datetime="2025-01-08T08:20:24.000Z" title="发表于 2025-01-08 16:20:24">2025-01-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/63/" title="Jellyfin 播放卡顿 bug"><img src="/img/num/2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Jellyfin 播放卡顿 bug"/></a><div class="content"><a class="title" href="/post/63/" title="Jellyfin 播放卡顿 bug">Jellyfin 播放卡顿 bug</a><time datetime="2024-12-31T15:38:32.000Z" title="发表于 2024-12-31 23:38:32">2024-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/62/" title="树莓派远程监控"><img src="/img/num/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="树莓派远程监控"/></a><div class="content"><a class="title" href="/post/62/" title="树莓派远程监控">树莓派远程监控</a><time datetime="2024-07-14T08:26:48.000Z" title="发表于 2024-07-14 16:26:48">2024-07-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/62/" title="一键启动远程访问 Stable Diffusion 脚本"><img src="/img/num/1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="一键启动远程访问 Stable Diffusion 脚本"/></a><div class="content"><a class="title" href="/post/62/" title="一键启动远程访问 Stable Diffusion 脚本">一键启动远程访问 Stable Diffusion 脚本</a><time datetime="2024-06-27T03:48:01.000Z" title="发表于 2024-06-27 11:48:01">2024-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/post/61/" title="SSH端口转发远程访问 Stable Diffusion"><img src="/img/num/10.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="SSH端口转发远程访问 Stable Diffusion"/></a><div class="content"><a class="title" href="/post/61/" title="SSH端口转发远程访问 Stable Diffusion">SSH端口转发远程访问 Stable Diffusion</a><time datetime="2024-06-24T03:57:19.000Z" title="发表于 2024-06-24 11:57:19">2024-06-24</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/BUG/"><span class="card-category-list-name">BUG</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DIY/"><span class="card-category-list-name">DIY</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ESP32%E4%B8%8A%E7%9A%84%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"><span class="card-category-list-name">ESP32上的面向对象</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ESPIDF/"><span class="card-category-list-name">ESPIDF</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/FreeRTOS%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">FreeRTOS学习</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OpenCV/"><span class="card-category-list-name">OpenCV</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/gcc/"><span class="card-category-list-name">gcc</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"><span class="card-category-list-name">单片机</span><span class="card-category-list-count">4</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/AI/" style="font-size: 1.1em; color: #999">AI</a> <a href="/tags/BUGS/" style="font-size: 1.39em; color: #99a4b4">BUGS</a> <a href="/tags/C/" style="font-size: 1.44em; color: #99a7ba">C</a> <a href="/tags/C/" style="font-size: 1.27em; color: #99a0a9">C++</a> <a href="/tags/DIY/" style="font-size: 1.1em; color: #999">DIY</a> <a href="/tags/ESP32/" style="font-size: 1.5em; color: #99a9bf">ESP32</a> <a href="/tags/FPGA/" style="font-size: 1.1em; color: #999">FPGA</a> <a href="/tags/OOP/" style="font-size: 1.16em; color: #999b9e">OOP</a> <a href="/tags/OpenCV/" style="font-size: 1.21em; color: #999ea4">OpenCV</a> <a href="/tags/Stable-Diffusion/" style="font-size: 1.16em; color: #999b9e">Stable Diffusion</a> <a href="/tags/freeRTOS/" style="font-size: 1.33em; color: #99a2af">freeRTOS</a> <a href="/tags/gcc/" style="font-size: 1.16em; color: #999b9e">gcc</a> <a href="/tags/hexo/" style="font-size: 1.21em; color: #999ea4">hexo</a> <a href="/tags/python/" style="font-size: 1.1em; color: #999">python</a> <a href="/tags/verilog/" style="font-size: 1.1em; color: #999">verilog</a> <a href="/tags/wifi/" style="font-size: 1.1em; color: #999">wifi</a> <a href="/tags/%E4%B8%B2%E5%8F%A3/" style="font-size: 1.1em; color: #999">串口</a> <a href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/" style="font-size: 1.1em; color: #999">云服务器</a> <a href="/tags/%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" style="font-size: 1.21em; color: #999ea4">内存管理</a> <a href="/tags/%E5%8D%95%E7%89%87%E6%9C%BA/" style="font-size: 1.27em; color: #99a0a9">单片机</a> <a href="/tags/%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" style="font-size: 1.1em; color: #999">图像处理</a> <a href="/tags/%E5%A0%86%E6%A0%88/" style="font-size: 1.1em; color: #999">堆栈</a> <a href="/tags/%E5%AD%97%E8%8A%82%E5%AF%B9%E9%BD%90/" style="font-size: 1.1em; color: #999">字节对齐</a> <a href="/tags/%E6%90%9E%E6%9C%BA/" style="font-size: 1.27em; color: #99a0a9">搞机</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 1.1em; color: #999">摄影</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.1em; color: #999">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.27em; color: #99a0a9">数据结构</a> <a href="/tags/%E6%97%A0%E7%BA%BF%E5%85%85%E7%94%B5/" style="font-size: 1.16em; color: #999b9e">无线充电</a> <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="font-size: 1.1em; color: #999">树莓派</a> <a href="/tags/%E7%94%B5%E8%84%91%E6%95%85%E9%9A%9C/" style="font-size: 1.16em; color: #999b9e">电脑故障</a> <a href="/tags/%E7%9C%8B%E9%97%A8%E7%8B%97/" style="font-size: 1.1em; color: #999">看门狗</a> <a href="/tags/%E7%A1%AC%E4%BB%B6/" style="font-size: 1.33em; color: #99a2af">硬件</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.44em; color: #99a7ba">算法</a> <a href="/tags/%E8%93%9D%E7%89%99/" style="font-size: 1.1em; color: #999">蓝牙</a> <a href="/tags/%E8%BD%A8%E8%BF%B9%E8%A7%84%E5%88%92/" style="font-size: 1.16em; color: #999b9e">轨迹规划</a> <a href="/tags/%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/" style="font-size: 1.27em; color: #99a0a9">通信协议</a> <a href="/tags/%E9%93%BE%E8%A1%A8/" style="font-size: 1.16em; color: #999b9e">链表</a> <a href="/tags/%E9%98%9F%E5%88%97/" style="font-size: 1.1em; color: #999">队列</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/12/"><span class="card-archive-list-date">十二月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/03/"><span class="card-archive-list-date">三月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/02/"><span class="card-archive-list-date">二月 2024</span><span class="card-archive-list-count">2</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">66</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-01-09T09:47:11.963Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By Star</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  if (true) { 
    window.typed = new Typed("#subtitle", {
      strings: ["莫问收获，但问耕耘"],
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50
    })
  } else {
    document.getElementById("subtitle").innerHTML = '莫问收获，但问耕耘'
  }
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}</script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>